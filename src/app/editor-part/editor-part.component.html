<div class="editor-part">
  <h2>Editor</h2>


 
  <div cdkDropList (cdkDropListDropped)="onDrop($any($event))">

    <div *ngFor="let layerElement of layerElements"
      (cdkDragStarted)="onDragStarted(layerElement)"
      (cdkDragEnded)="onDrop(layerElement)"
      [ngClass]="{ 'highlighted': hoveredElementID === layerElement.element.getId() }"
      (mouseenter)="onElementHover(layerElement.element.getId())"
      (mouseleave)="onElementHover(null)"
      class="element-container"
      cdkDrag
    >


    <app-latex-render [latexCode]="layerElement?.element?.getContent() || ''"></app-latex-render>

    <div *ngIf="!settings.hideSummaries">
      <p>Summary: {{ layerElement?.element?.getSummary() }}</p>
    </div>
    
  
  
    <div *ngIf="!settings.hideComments">
      <p>{{ layerElement?.element?.getComment() }}</p>
    </div>
    

  <app-text-editor
    *ngIf="hoveredElementID && inEditMode"
    [text]="showSummary(layerElement)"
    (textUpdated)="onSummaryUpdated($event)"
  ></app-text-editor>
     
    

      <div class="button-container">
        <button *ngIf="layerElement.parent instanceof Root" class="parent-button" (click)="showParent(layerElement)">Eltern anzeigen</button>

        

        <button class="delete-button" (click)="onDelete(layerElement)">LÃ¶schen</button>
      
        <button class="edit-button" (click)="showContent(layerElement)">Editieren</button>

        <button class="comment-button" (click)="showComment(layerElement)">Komentieren</button>

        <button class="summary-button" (click)="showSummary(layerElement)">Zusammenfassen</button>
        
        
        
        
        
        <button *ngIf="isParent(layerElement.element)" class="show-children-button" (click)="showChildren(layerElement)">Kinder anzeigen</button>


        <div *ngIf="layerElement.showSummaryTextbox">
          <app-text-editor [text]="layerElement.element.getSummary()" (textUpdated)="onSummaryUpdated($event)"></app-text-editor>
      </div>
        <div *ngIf="layerElement.showContentTextbox">
          <app-text-editor [text]="layerElement.element.getContent()" (textUpdated)="onContentUpdated($event)"></app-text-editor>
      </div>
        <div *ngIf="layerElement.showCommentTextbox">
          <app-text-editor [text]="layerElement.element.getComment()" (textUpdated)="onCommentUpdated($event)"></app-text-editor>
      </div>

